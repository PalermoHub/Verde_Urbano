<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> üå≥ Demo prototipale</title>
	<meta name="description" content="Questa √® una demo prototipale che mostra i dati di monitoraggio relativi a una singola strada. Il progetto completo di cui fa parte √® molto pi√π articolato e comprende ulteriori strade, zone e funzionalit√† avanzate non ancora rappresentate in questa versione.">
    <link rel="stylesheet" href="css/verde_urbano.css">   
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@300;400;600;700&display=swap" rel="stylesheet">
	
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-hash@0.2.1/leaflet-hash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
   
</head>
<body>
    <header>
        <div>
            <h1 id="pageTitle"><i class="fas fa-tree"></i>  Demo prototipale | Verde Urbano</h1>
            <p>Palermo 2025 - Monitoraggio e analisi dello stato di salute del verde urbano</p>
        </div>
        <div class="header-right">
            <div class="info-icon" id="infoBtn" title="Informazioni su questa app"><i class="fas fa-circle-info"></i></div>
        </div>
    </header>

    <!-- Modale Info -->
    <div class="modal-overlay" id="infoModal">
        <div class="modal">
            <div class="modal-header">
                <h2><i class="fas fa-circle-info"></i> Come Funziona</h2>
                <button class="modal-close" onclick="closeInfoModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h3><i class="fas fa-location-dot"></i> Che cos'√®</h3>
                    <p>Una dashboard interattiva per visualizzare e analizzare i dati degli alberi presenti lungo Viale Emilia a Palermo. Uno strumento di monitoraggio dello stato di salute della vegetazione urbana della citt√†.</p>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-bullseye"></i> Funzionalit√† Principali</h3>
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon"><i class="fas fa-map"></i></span>
                            <span class="feature-text"><strong>Mappa Interattiva</strong> - Visualizza la posizione esatta di ogni albero con zoom e pan</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon"><i class="fas fa-magnifying-glass"></i></span>
                            <span class="feature-text"><strong>Filtri Avanzati</strong> - Filtra per specie, stato di salute (CPC), sito, altezza e diametro</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon"><i class="fas fa-chart-bar"></i></span>
                            <span class="feature-text"><strong>Grafici Dinamici</strong> - Analizza distribuzioni per altezza, salute, specie e localizzazione</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon"><i class="fas fa-chart-line"></i></span>
                            <span class="feature-text"><strong>Statistiche in Tempo Reale</strong> - Dati sempre aggiornati in base ai filtri applicati</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon"><i class="fas fa-search"></i></span>
                            <span class="feature-text"><strong>Dettagli Alberi</strong> - Informazioni complete per ogni esemplare selezionato</span>
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-clipboard-list"></i> Classificazione CPC (Stato di Salute)</h3>
                    <ul>
                        <li><strong style="color: #2ecc71;"><i class="fas fa-circle"></i> B (bassa)</strong> - Difetti lievi, fattore di sicurezza adeguato; monitoraggi periodici e interventi minimi.</li>
                        <li><strong style="color: #f39c12;"><i class="fas fa-circle"></i> C (moderata)</strong> - Anomalie significative, sicurezza ridotta; interventi colturali obbligatori e controlli frequenti.</li>
						<li><strong style="color: #c164a1;"><i class="fas fa-circle"></i> C/D (elevata)</strong> - Difetti gravi, sicurezza esaurita; rimozione immediata o messa in sicurezza area.</li>
                        <li><strong style="color: #e74c3c;"><i class="fas fa-circle"></i> D (estrema)</strong> - Rischio intermedio con evoluzione incerta; approfondimenti e interventi per stabilizzare.</li>
                    </ul>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-lightbulb"></i> Come Usarla</h3>
                    <ol style="margin-left: 20px; color: #555; font-size: 14px; line-height: 1.8;">
                        <li>Usa i <strong>filtri a sinistra</strong> per restringere i dati (facoltativo)</li>
                        <li>Clicca su <strong>"Applica"</strong> per aggiornare mappa e grafici</li>
                        <li>Clicca su un <strong>marcatore della mappa</strong> per visualizzare i dettagli completi dell'albero</li>
                        <li>Leggi i <strong>grafici statistici</strong> per analizzare distribuzioni e trend</li>
                        <li>Usa <strong>"Ripristina"</strong> per azzerare tutti i filtri</li>
                    </ol>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-wrench"></i> Parametri Visualizzati</h3>
                    <ul>
                        <li><strong>ID Albero</strong> - Codice identificativo univoco</li>
                        <li><strong>Specie Botanica</strong> - Nome scientifico e comune dell'albero</li>
                        <li><strong>Altezza</strong> - In metri (m)</li>
                        <li><strong>Diametro</strong> - A petto d'uomo (dpu) in centimetri (cm)</li>
                        <li><strong>CPC</strong> - Classificazione dello stato di salute</li>
                        <li><strong>Sito</strong> - Localizzazione lungo Viale Emilia</li>
                        <li><strong>Codice Lavorazione</strong> - Interventi programmati/effettuati</li>
                    </ul>
                </div>
				<hr>
				 <div class="modal-section">
                    <h3><i class="fas fa-leaf"></i> Calcolo Benefici Ambientali (CO‚ÇÇ e O‚ÇÇ)</h3>
                    <p style="margin-bottom: 12px;">I valori di <strong>CO‚ÇÇ catturata</strong> e <strong>O‚ÇÇ emesso</strong> sono calcolati mediante metodologie scientifiche standardizzate. Consulta i seguenti riferimenti:</p>
                    <ul>
                        <li><strong><a href="https://www.fs.fed.us/nrs/pubs/jrnls/2012/nrs_2012_nowak_001.pdf" target="_blank" style="color: #27ae60; text-decoration: underline;">USDA Forest Service - Carbon Storage and Sequestration by Municipal Trees (2012)</a></strong>
                            <br><span style="font-size: 12px; color: #666;">Nowak, D.J. & Greenfield, E.J. Studio fondamentale su sequestro di carbonio urbano</span>
                        </li>
                        <li><strong><a href="https://www.fs.fed.us/nrs/tools/" target="_blank" style="color: #27ae60; text-decoration: underline;">USDA Forest Service - Urban Forest Carbon Tools</a></strong>
                            <br><span style="font-size: 12px; color: #666;">Strumenti online per quantificare benefici ambientali del verde urbano</span>
                        </li>
                        <li><strong><a href="https://www.sciencedirect.com/science/article/pii/S0301479711001253" target="_blank" style="color: #27ae60; text-decoration: underline;">Escobedo et al. (2011) - Ecological benefits of green infrastructure</a></strong>
                            <br><span style="font-size: 12px; color: #666;">Environmental Pollution, 159(7), 1628-1635. Benefici ecologici dell'infrastruttura verde urbana</span>
                        </li>
                        <li><strong><a href="https://www.frontiersin.org/articles/10.3389/fenvs.2015.00069/full" target="_blank" style="color: #27ae60; text-decoration: underline;">Mullaney et al. (2015) - Urban green infrastructure: From theory to practice</a></strong>
                            <br><span style="font-size: 12px; color: #666;">Frontiers in Environmental Science, 3(69). Connessioni tra teoria e applicazione pratica</span>
                        </li>
                        <li><strong><a href="https://www.itreetools.org/" target="_blank" style="color: #27ae60; text-decoration: underline;">i-Tree Tools - Free Urban Forest Analysis Software</a></strong>
                            <br><span style="font-size: 12px; color: #666;">Software gratuito per analizzare e quantificare i benefici della foresta urbana</span>
                        </li>
                    </ul>
					
					<hr>
				 <div class="modal-section">
                    <h3><i class="fas fa-leaf"></i> Metodologia per la Stima del Numero di Foglie del Patrimonio Arboreo</h3>
                    <p style="margin-bottom: 12px;">La quantificazione del numero di foglie per ciascun esemplare arboreo censito √® stata effettuata mediante un modello di calcolo che integra parametri dendrometrici rilevati in campo con coefficienti botanici specifici per specie.</p>
                    <ul>
                        <li>Per ogni albero sono stati considerati i seguenti parametri misurati: altezza (h) espressa in metri, diametro del tronco a petto d'uomo (DBH) espresso in centimetri, e classificazione fitosanitaria (CPC) che indica lo stato di salute dell'esemplare. A questi dati sono stati associati coefficienti standard ricavati dalla letteratura scientifica e specifici per ciascuna specie arborea, tra cui: il Leaf Area Index base (LAI_base), il coefficiente moltiplicativo del diametro (coeff_diametro), il coefficiente moltiplicativo dell'altezza (coeff_altezza) e la densit√† fogliare espressa in numero di foglie per metro quadrato di chioma (densita_foglie).
                        </li>
                        <li><strong><a href="https://www.fs.fed.us/nrs/tools/" target="_blank" style="color: #27ae60; text-decoration: underline;">USDA Forest Service - Urban Forest Carbon Tools</a></strong>
                            <br><span style="font-size: 12px; color: #666;">Strumenti online per quantificare benefici ambientali del verde urbano</span>
                        </li>
                        <li>Il modello di calcolo adottato prevede l'applicazione della seguente formula: N_Foglie = LAI_base √ó (DBH/100)^coeff_diametro √ó h^coeff_altezza √ó densita_foglie √ó fattore_stagionale √ó fattore_CPC. Il fattore stagionale tiene conto della fenologia della specie, differenziando tra specie decidue (che perdono completamente le foglie in inverno), sempreverdi (che mantengono il 90-95% delle foglie durante tutto l'anno) e semi-decidue. Il fattore CPC introduce una correzione basata sullo stato di salute dell'albero, con valori compresi tra 1,0 per esemplari in condizioni ottimali e 0,5 per esemplari in condizioni critiche.
                        </li>
                        <li>Tale approccio consente di ottenere una stima del numero di foglie per ciascuna delle quattro stagioni (primavera, estate, autunno, inverno), fornendo un dato quantitativo utile per valutazioni ecosistemiche quali la capacit√† di assorbimento di CO‚ÇÇ, la produzione di ossigeno e i servizi di regolazione del microclima urbano.
                        </li>
                    </ul>
					</div>
                    <p style="margin-top: 12px; padding: 10px; background: #e8f5e9; border-left: 3px solid #27ae60; border-radius: 4px; font-size: 12px; color: #2e7d32;">
                        <strong>Nota metodologica:</strong> I coefficienti sono stati adattati per il clima mediterraneo di Palermo/Sicilia in base alla letteratura scientifica consolidata. L'accuratezza √® ¬±15% (margine standard per modelli urbani).
                    </p>
                </div>
				<hr>
                <div class="modal-section">
                    <h3><i class="fas fa-exclamation-triangle"></i> Disclaimer</h3>
                    <p style="background: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; border-radius: 6px; color: #856404;">
                        <strong>Natura della Demo</strong><br>
                        Questa √® una <strong>demo prototipale</strong> che mostra i dati di monitoraggio relativi a una singola strada (Viale Emilia). Il progetto completo di cui fa parte √® molto pi√π articolato e comprende ulteriori strade, zone e funzionalit√† avanzate non ancora rappresentate in questa versione.
                    </p>
                    <p style="margin-top: 12px;">
                        <strong>Note su Descrizioni e Parametri</strong><br>
                        Le descrizioni tecniche, i parametri fitosanitari (altezza, diametro, CPC) e le classificazioni indicate in questa dashboard sono <strong>puramente esemplificativi e di natura standard</strong>. Essi <strong>non fanno riferimento</strong> a nessun elenco prezzi regionale o nazionale, n√© rappresentano valori ufficiali di alcuna amministrazione pubblica o privata.
                    </p>
                    <p style="margin-top: 12px;">
                        <strong>Scopo Educativo e Prototipale</strong><br>
                        Questa applicazione √® stata sviluppata a scopo dimostrativo e educativo per illustrare le potenzialit√† dei sistemi di monitoraggio urbano e gestione dati geospaziali. I dati visualizzati sono sintetici e non rappresentano situazioni reali certificate.</p>
						<hr><br>
                    <p><strong>Elaborazione dati:</strong> <a href="https://www.linkedin.com/in/gbvitrano/" title="@gbvitrano" target="_blank">@gbvitrano</a> </p>
 <p><strong>Sviluppo tecnico:</strong> <a href="https://www.linkedin.com/in/gbvitrano/" title="@gbvitrano" target="_blank">@gbvitrano</a> - <a href="https://claude.ai" target="_blank">Claude AI (Anthropic)</a></p>					
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Sidebar Sinistra: Filtri -->
        <div class="sidebar sidebar-left">
            <div class="info-banner">
                <i class="fas fa-info-circle"></i> I filtri aggiornano mappa e grafici in tempo reale
            </div>

            <h2><i class="fas fa-search"></i> Filtri</h2>

<!-- Territorio -->

            <div class="filter-group">
                <label>Odonimo (Strada)</label>
                <select id="odonimoFilter" onchange="applyFilters()">
                    <option value="">Tutte le strade</option>
                </select>
                <div class="filter-info" id="odonimoInfo"></div>
            </div>

            <div class="filter-group">
                <label>Circoscrizione</label>
                <select id="circoscrizioneFilter" onchange="applyFilters()">
                    <option value="">Tutte le circoscrizioni</option>
                </select>
                <div class="filter-info" id="circoscrizioneInfo"></div>
            </div>

            <div class="filter-group">
                <label>Quartiere</label>
                <select id="quartiereFilter" onchange="applyFilters()">
                    <option value="">Tutti i quartieri</option>
                </select>
                <div class="filter-info" id="quartiereInfo"></div>
            </div>

            <div class="filter-group">
                <label>UPL</label>
                <select id="uplFilter" onchange="applyFilters()">
                    <option value="">Tutte le UPL</option>
                </select>
                <div class="filter-info" id="uplInfo"></div>
            </div>

<hr>

<!-- Alberi -->
            <div class="filter-group">
                <label>Specie Botanica</label>
                <select id="specieFilter" onchange="applyFilters()">
                    <option value="">Tutte le specie</option>
                </select>
                <div class="filter-info" id="specieInfo"></div>
            </div>

            <div class="filter-group">
                <label>Stato Salute (CPC)</label>
                <select id="cpcFilter" onchange="applyFilters()">
                    <option value="">Tutti</option>
                    <option value="B">B - Bassa</option>
                    <option value="C">C - Moderata</option>
                    <option value="C/D">C/D - Elevata</option>
                    <option value="D">D - Estrema</option>
                </select>
                <div class="filter-info" id="cpcInfo"></div>
            </div>

            <div class="filter-group">
                <label>Dimora</label>
                <select id="siteFilter" onchange="applyFilters()">
                    <option value="">Tutti i siti</option>
                </select>
                <div class="filter-info" id="siteInfo"></div>
            </div>

            <div class="filter-group">
                <label>Altezza Minima (m)</label>
                <input type="range" id="minHeight" min="0" max="16" value="0" onchange="updateHeightLabel(); applyFilters()">
                <div class="filter-info">Min: <span id="minHeightLabel">0</span>m</div>
            </div>

            <div class="filter-group">
                <label>Diametro Minimo (cm)</label>
                <input type="range" id="minDiameter" min="0" max="137" value="0" onchange="updateDiameterLabel(); applyFilters()">
                <div class="filter-info">Min: <span id="minDiameterLabel">0</span>cm</div>
            </div>

            <div class="filter-group">
                <label><i class="fas fa-broom"></i> Necessit√† Pulizia Foglie</label>
                <select id="puliziaFilter" onchange="applyFilters()">
                    <option value="">Tutti gli alberi</option>
                    <option value="alta">Alta priorit√† (&gt;30% variazione)</option>
                    <option value="media">Media priorit√† (15-30%)</option>
                    <option value="bassa">Bassa priorit√† (&lt;15%)</option>
                </select>
                <div class="filter-info" id="puliziaInfo"></div>
            </div>

            <hr>

<!-- Pulsanti -->

            <div class="button-group">
                <button onclick="applyFilters()">‚úì Applica</button>
                <button class="secondary" onclick="resetFilters()">‚Ü∫ Ripristina</button>
            </div>

            <h2 style="margin-top: 25px;"><i class="fas fa-chart-simple"></i> Statistiche</h2>
            <div class="stats-box">
                <div class="stat-row">
                    <span>Alberi Visualizzati</span>
                    <span class="stat-value" id="statFiltered">0</span>
                </div>
                <div class="stat-row">
                    <span>Totale Dataset</span>
                    <span class="stat-value" id="statTotal">0</span>
                </div>
                <div class="stat-row">
                    <span>Altezza Media</span>
                    <span class="stat-value" id="statAvgHeight">-</span>
                </div>
                <div class="stat-row">
                    <span>Diametro Medio</span>
                    <span class="stat-value" id="statAvgDiameter">-</span>
                </div>
                <div class="stat-row">
                    <span>Specie Presenti</span>
                    <span class="stat-value" id="statSpecies">0</span>
                </div>
            </div>

            <h2 style="margin-top: 25px;"><i class="fas fa-map-location-dot"></i> Dati Territorio</h2>
            <div class="stats-box" style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);">
                <div class="stat-row">
                    <span>Vie interessate:</span>
                    <span class="stat-value" id="statTotalStrade">0</span>
                </div>
                <div class="stat-row">
                    <span>UPL:</span>
                    <span class="stat-value" style="font-size: 11px;" id="statAlberiPerUPL">-</span>
                </div>
                <div class="stat-row">
                    <span>Quartiere:</span>
                    <span class="stat-value" style="font-size: 11px;" id="statAlberiPerQuartiere">-</span>
                </div>
                <div class="stat-row">
                    <span>Circoscrizione:</span>
                    <span class="stat-value" style="font-size: 11px;" id="statAlberiPerCircoscrizione">-</span>
                </div>
            </div>

            <h2 style="margin-top: 25px;"><i class="fas fa-list-check"></i> Classificazione CPC</h2>
            <div class="stats-box">
                <div class="stat-row">
                    <span style="color: #2cc15f;"><i class="fas fa-circle" style="color: #2cc15f;"></i> B - Bassa</span>
                    <span class="stat-value" id="statCpcB">0</span>
                </div>
                <div class="stat-row">
                    <span style="color: #f39c12;"><i class="fas fa-circle" style="color: #f39c12;"></i> C - Moderata</span>
                    <span class="stat-value" id="statCpcC">0</span>
                </div>
                <div class="stat-row">
                    <span style="color: #c164a1;"><i class="fas fa-circle" style="color: #c164a1;"></i> C/D - Elevata</span>
                    <span class="stat-value" id="statCpcCD">0</span>
                </div>
                <div class="stat-row">
                    <span style="color: #e74c3c;"><i class="fas fa-circle" style="color: #e74c3c;"></i> D - Estrema</span>
                    <span class="stat-value" id="statCpcD">0</span>
                </div>
            </div>

            <h2 style="margin-top: 25px;"><i class="fas fa-tools"></i> Cod. Lavorazione</h2>
            <div id="statLavorazione" style="font-size: 12px; color: #666;">
                <!-- Popolato dinamicamente -->
            </div>

            <h2 style="margin-top: 25px;"><i class="fas fa-leaf"></i> Benefici  Ambientali</h2>
            <div class="stats-box" style="background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%);">
                <div class="stat-row">
                    <span>Produzione O‚ÇÇ totale:</span>
                    <span class="stat-value" id="statTotalO2">0 kg/anno</span>
                </div>
                <div class="stat-row">
                    <span>Assorbimento CO‚ÇÇ totale:</span>
                    <span class="stat-value" id="statTotalCO2">0 kg/anno</span>
                </div>
            </div>

            <h2 style="margin-top: 25px;"><i class="fas fa-euro-sign"></i> Costi Lavorazione</h2>
            <div class="stats-box" style="background: linear-gradient(135deg, #f39c12 0%, #d68910 100%);">
                <div class="stat-row">
                    <span>Costo totale:</span>
                    <span class="stat-value" id="statTotalWorkingCost">0 ‚Ç¨</span>
                </div>
            </div>

    <!--    <h2><i class="fas fa-palette"></i> Legenda CPC</h2> -->
               <div class="legend">
                <h4>Classificazione</h4>
                <div class="legend-item">
                    <i class="fas fa-circle" style="color: #2ecc71; font-size: 16px;"></i>
                    <div><strong>B</strong> - Buono</div>
                </div>
                <div class="legend-item">
                    <i class="fas fa-circle" style="color: #f39c12; font-size: 16px;"></i>
                    <div><strong>C</strong> - Mediocre</div>
                </div>
                <div class="legend-item">
                    <i class="fas fa-circle" style="color: #e74c3c; font-size: 16px;"></i>
                    <div><strong>D</strong> - Cattivo</div>
                </div>
            </div>
        </div>

        <!-- Area Centrale: Mappa -->
        <div class="main">
            <div class="map-container">
                <div id="map"></div>
            </div>
        </div>

        <!-- Sidebar Destra: Controlli e Grafici -->
        <div class="sidebar sidebar-right">
            <h2><i class="fas fa-sliders"></i> Controlli Mappa</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                <button style="padding: 11px; background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; font-size: 13px; transition: all 0.3s;" onclick="downloadRelazione()" title="Scarica la Relazione Tecnica">
                    <i class="fas fa-file-pdf"></i> Relazione
                </button>
                <button style="padding: 11px; background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; font-size: 13px; transition: all 0.3s;" onclick="printMapPdf()" title="Stampa la mappa in PDF">
                    <i class="fas fa-map"></i> Mappa PDF
                </button>
            </div>

            <h2><i class="fas fa-chart-bar"></i> Grafici Analisi</h2>
            <div class="charts-container">
			                <div class="chart-box">
                    <h3><i class="fas fa-leaf"></i> Specie arboree principali</h3>
                    <div class="chart-wrapper">
                        <canvas id="speciesChart"></canvas>
                    </div>
                </div>	
				
                <div class="chart-box">
                    <h3><i class="fas fa-tree"></i> Stato salute - Classe Propensione Cedimento - CPC</h3>
                    <div class="chart-wrapper">
                        <canvas id="healthChart"></canvas>
                    </div>
                </div>
								
                <div class="chart-box">
                    <h3><i class="fas fa-location-dot"></i> Dimora</h3>
                    <div class="chart-wrapper">
                        <canvas id="siteChart"></canvas>
                    </div>
                </div>
				                <div class="chart-box">
                    <h3><i class="fas fa-chart-line"></i> Distribuzione altezze</h3>
                    <div class="chart-wrapper">
                        <canvas id="heightChart"></canvas>
                    </div>
                </div>

				<div class="chart-box chart-box-full">
                    <h3><i class="fas fa-seedling"></i> Foglie totali per via nelle stagioni</h3>
                    <div class="chart-wrapper" style="height: 350px;">
                        <canvas id="seasonalLeavesChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modale Dettagli Albero -->
    <div class="modal-overlay" id="treeDetailsModal">
        <div class="modal modal-tree-details">
            <div class="modal-header">
                <h2><i class="fas fa-leaf"></i> Dettagli Albero</h2>
                <button class="modal-close" onclick="closeTreeDetails()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div id="selectedTreeInfo" class="details-grid">
                    <div class="no-data"><i class="fas fa-hand-pointer"></i> <b> Fai clic su un albero per visualizzare o stampare la scheda informativa</b></div>
                </div>
            </div>
        </div>
    </div>


<script src="js/01_modal.js"></script>
<script src="js/02_csv_loader.js"></script>
<script src="js/03_global_variables.js"></script>
<script src="js/04_init.js"></script>
<script src="js/05_map.js"></script>
<script src="js/06_data_loader.js"></script>
<script src="js/07_filters.js"></script>
<script src="js/08_environmental_calculations.js"></script>
<script src="js/09_statistics.js"></script>
<script src="js/10_tree_details.js"></script>
<script src="js/11_pdf_generator.js"></script>
<script src="js/12_charts.js"></script>
<script src="js/13_reports.js"></script>

  <!-- Footer -->
    <footer>
        <h3><i class="fas fa-lightbulb"></i> Natura della Demo</h3>
        <p>Questa √® una demo prototipale che mostra i dati di monitoraggio relativi a una singola strada (Viale Emilia). Il progetto completo di cui fa parte √® molto pi√π articolato e comprende ulteriori strade, zone e funzionalit√† avanzate non ancora rappresentate in questa versione.</p>
    </footer>
</body>
</html>
